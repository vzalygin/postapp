(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(6),c=a.n(r);a(15);const s=(e,t)=>({login:e,name:t}),o=[s("vzalygin","Vyacheslav Zalygin"),s("johndoe","John Doe")],m=e=>o.find(t=>t.login===e),i=e=>{const{user:t,_:a}=e;return null!==t},u=Object(n.createContext)(null);var d=a(3),p=a(18);const b=function(e,t,a,n,l){return{id:e,author:t,creationDate:a,title:n,content:l,answerTo:arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,answeredFrom:arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],liked:arguments.length>7&&void 0!==arguments[7]&&arguments[7],isDeleted:arguments.length>8&&void 0!==arguments[8]&&arguments[8]}},E=[b("9165c789-bb94-414a-9666-2bf15f31bece",m("vzalygin"),"2023-12-12","Lorem Ipsum","Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris efficitur felis a dapibus consectetur. Proin ultricies, urna non pulvinar sagittis, turpis risus dictum lorem, ac scelerisque tortor erat a eros. Donec sit amet ligula justo. Integer nec lectus in justo luctus faucibus ut vel enim. Nunc ligula augue, facilisis vitae nisl a, sagittis hendrerit nisl. Pellentesque sed ante non sem scelerisque elementum. Nulla semper velit a libero feugiat feugiat. Morbi ullamcorper velit eros, scelerisque sagittis massa maximus ac. Ut dictum nibh ut lacus vulputate tempus. Nullam augue tortor, viverra quis molestie a, finibus a nibh.",null,["e2cdad6d-ccba-464d-bbcc-88dd4c5d4293","e2cdad1d-ccba-464d-bbcc-88dd4c5d4293","e2cdad3d-ccba-464d-bbcc-88dd4c5d4293"],!1,!1),b("e2cdad6d-ccba-464d-bbcc-88dd4c5d4293",s("johndoe","John Doe"),"2024-12-13",'Answer to "Lorem Ipsum"',"Donec ullamcorper porta ipsum, eu condimentum lectus. Mauris at mi et nunc gravida pulvinar eu ac turpis. Praesent quis viverra sem. Nulla vel velit vestibulum, consectetur dolor sit amet, accumsan metus. Aenean efficitur lacus a lacus condimentum, nec pellentesque purus fermentum. Morbi aliquam accumsan urna, vel hendrerit neque volutpat ac. In hac habitasse platea dictumst. Fusce elementum enim at nisl mattis luctus. ","9165c789-bb94-414a-9666-2bf15f31bece",[],!0,!1),b("e2cdad1d-ccba-464d-bbcc-88dd4c5d4293",s("johndoe","John Doe"),"2024-12-13",'Answer to "Lorem Ipsum"',"Donec ullamcorper porta ipsum, eu condimentum lectus. Mauris at mi et nunc gravida pulvinar eu ac turpis. Praesent quis viverra sem. Nulla vel velit vestibulum, consectetur dolor sit amet, accumsan metus. Aenean efficitur lacus a lacus condimentum, nec pellentesque purus fermentum. Morbi aliquam accumsan urna, vel hendrerit neque volutpat ac. In hac habitasse platea dictumst. Fusce elementum enim at nisl mattis luctus. ","9165c789-bb94-414a-9666-2bf15f31bece",[],!1,!0),b("e2cdad3d-ccba-464d-bbcc-88dd4c5d4293",s("johndoe","John Doe"),"2024-12-13",'Answer to "Lorem Ipsum"',"Donec ullamcorper porta ipsum, eu condimentum lectus. Mauris at mi et nunc gravida pulvinar eu ac turpis. Praesent quis viverra sem. Nulla vel velit vestibulum, consectetur dolor sit amet, accumsan metus. Aenean efficitur lacus a lacus condimentum, nec pellentesque purus fermentum. Morbi aliquam accumsan urna, vel hendrerit neque volutpat ac. In hac habitasse platea dictumst. Fusce elementum enim at nisl mattis luctus. ","9165c789-bb94-414a-9666-2bf15f31bece",[],!0,!1)],g=e=>E.find(t=>t.id===e);var v=e=>{let{id:t,author:a,creationDate:r,title:c,content:s,answerTo:o,answeredFrom:m,liked:p,isDeleted:b}=e;const E=Object(n.useContext)(u),{user:v,_:h}=E,[f,N]=Object(n.useState)({like:p,isDeleted:b}),w=()=>{const e={like:!f.like,isDeleted:f.isDeleted};((e,t)=>{g(e).liked=t})(t,e.like),N(e)},y=()=>{if(window.confirm("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u0441\u0442?")){const e={like:f.like,isDeleted:!0};(e=>{g(e).isDeleted=!0})(t),N(e)}},k=l.a.createElement("div",{className:"container-fluid hor"},l.a.createElement("h6",{className:"font-weight-light row-links"},r),l.a.createElement(d.b,{to:"/post/".concat(t),className:"btn btn-small font-weight-light post-link"},t),l.a.createElement(d.b,{to:"/".concat(a.login),className:"btn btn-link btn-sm"},"@",a.name," ",i(E)&&a.login===v.login?"(me)":void 0)),D=(()=>{if(null!==o)return l.a.createElement(d.b,{to:"/post/".concat(o),className:"btn btn-small font-weight-light post-link"},"<= ",o)})(),F=l.a.createElement("div",null,m.map(e=>l.a.createElement(d.b,{to:"/post/".concat(e),className:"btn btn-sm font-weight-light post-link"},"=> ",e))),x=!0===f.like?l.a.createElement("button",{className:"btn btn-liked",onClick:w},"\u2665"):l.a.createElement("button",{className:"btn btn-light",onClick:w},"\u2665"),q=(()=>{if(i(E)&&a.login===v.login)return l.a.createElement("button",{type:"button",className:"btn btn-outline-danger",onClick:y},"\ud83d\uddd1\ufe0f")})(),j=!1===f.isDeleted?l.a.createElement(l.a.Fragment,null,l.a.createElement("h5",{className:"card-title"},c),l.a.createElement("p",{className:"card-text"},s),l.a.createElement("div",{className:"btn-group btn-group-sm",role:"group","aria-label":"Basic example"},x,l.a.createElement(d.b,{to:"/post/new?answerTo=".concat(t),type:"button",className:"btn btn-light"},"\u21aa\ufe0f"),q)):l.a.createElement("h5",{className:"card-title"},"\u041f\u043e\u0441\u0442 \u0431\u044b\u043b \u0443\u0434\u0430\u043b\u0435\u043d.");return l.a.createElement("div",{className:"card w-50 post-card"},l.a.createElement("div",{className:"card-body"},k,D,F,j))};var h=()=>{const e=Object(n.useContext)(u),{user:t,setUser:a}=e,r=()=>{console.log("jopa"),a(null)},c=i(e)?l.a.createElement(d.b,{to:"/post/new",className:"btn btn-primary my-2 my-lg-0"},"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043f\u043e\u0441\u0442"):l.a.createElement(d.b,{to:"/login",className:"btn btn-primary my-2 my-lg-0"},"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043f\u043e\u0441\u0442 (\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f)"),s=i(e)?l.a.createElement(l.a.Fragment,null,l.a.createElement(d.b,{to:"/".concat(t.login),className:"btn btn-link"},t.name),l.a.createElement("button",{className:"btn btn-outline-danger",onClick:r},"\u0412\u044b\u0439\u0442\u0438")):l.a.createElement(d.b,{to:"/login",className:"btn btn-primary",href:"/login"},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f");return l.a.createElement("nav",{className:"navbar fixed-top navbar-self navbar-expand-lg navbar-dark bg-dark"},l.a.createElement(d.b,{to:"/feed",className:"navbar-brand"},"Posting app"),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},l.a.createElement("ul",{className:"navbar-nav mr-auto"},s)),c)};var f=()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(h,null),l.a.createElement("main",{className:"container"},E.map(e=>l.a.createElement(v,{key:e.id,id:e.id,author:e.author,creationDate:e.creationDate,title:e.title,content:e.content,answerTo:e.answerTo,answeredFrom:e.answeredFrom,liked:e.liked,isDeleted:e.isDeleted})))),N=a(1);var w=()=>{const{id:e}=Object(N.p)(),t=g(e);return l.a.createElement(l.a.Fragment,null,l.a.createElement(h,null),l.a.createElement("main",{className:"container"},l.a.createElement(v,{id:t.id,author:t.author,creationDate:t.creationDate,title:t.title,content:t.content,answerTo:t.answerTo,answeredFrom:t.answeredFrom,liked:t.liked,isDeleted:t.isDeleted})))};var y=()=>{const e=Object(n.useContext)(u),{user:t,_:a}=e,{login:r}=Object(N.p)(),c=m(r);if(void 0===c)return l.a.createElement(N.a,{to:"/feed"});const s=(e=>E.filter(t=>t.author.login===e))(r),o=(()=>{if(i()&&r===t.login)return"(me)"})();return l.a.createElement(n.Fragment,null,l.a.createElement(h,null),l.a.createElement("main",{className:"container"},l.a.createElement("div",{className:"card w-50 post-card"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"hor"},l.a.createElement("h5",{className:"card-title"},c.name," ",o,"\u2003\u2003"),l.a.createElement("span",{className:"font-weight-light"},"@",c.login)))),s.map(e=>l.a.createElement(v,{key:e.id,id:e.id,author:e.author,creationDate:e.creationDate,title:e.title,content:e.content,answerTo:e.answerTo,answeredFrom:e.answeredFrom,liked:e.liked,isDeleted:e.isDeleted}))))},k=a(2);let D=null;var F=()=>{const[e,t]=Object(d.e)(),a=Object(n.useContext)(u),{user:r,setUser:c}=a;if(D=r,i(a)){let t=null;return null!==e.get("answerTo")&&(t=l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"\u041e\u0442\u0432\u0435\u0442 \u043d\u0430: "),l.a.createElement("input",{name:"answerTo",type:"text",className:"form-control",id:"answerToId",placeholder:"id",value:e.get("answerTo"),readonly:"readonly"}))),l.a.createElement(l.a.Fragment,null,l.a.createElement(h,null),l.a.createElement("main",{className:"container"},l.a.createElement(d.a,{className:"card w-50 post-card",method:"post"},t,l.a.createElement("div",{className:"form-group"},l.a.createElement("h4",{htmlFor:"postTitle"},"\u041d\u043e\u0432\u044b\u0439 \u043f\u043e\u0441\u0442!"),l.a.createElement("input",{name:"title",type:"text",className:"form-control",id:"postTitle",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0441\u0442\u0430",required:!0}),l.a.createElement("div",{className:"valid-feedback"},"Looks good!")),l.a.createElement("div",{className:"form-group"},l.a.createElement("textarea",{name:"text",className:"form-control",cols:"40",rows:"5",id:"postText",placeholder:"\u0422\u0435\u043a\u0441\u0442 \u043f\u043e\u0441\u0442\u0430"})),l.a.createElement("button",{type:"submit",className:"btn btn-primary"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u0441\u0442"))))}return l.a.createElement(N.a,{to:"/login",replace:!0})};let x=null;var q=()=>{const{user:e,setUser:t}=Object(n.useContext)(u);return x=t,l.a.createElement(l.a.Fragment,null,l.a.createElement(h,null),l.a.createElement("main",{className:"container"},l.a.createElement(d.a,{className:"card w-50 post-card",method:"post"},l.a.createElement("div",{className:"form-col align-items-center form-group"},l.a.createElement("div",{className:"col-auto"},l.a.createElement("label",{className:"sr-only",htmlFor:"inlineFormInputGroup"},"\u041b\u043e\u0433\u0438\u043d"),l.a.createElement("div",{className:"input-group mb-2"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"inputGroupPrepend"},"@")),l.a.createElement("input",{name:"login",type:"text",className:"form-control",id:"loginInput",placeholder:"\u041b\u043e\u0433\u0438\u043d",required:!0})),l.a.createElement("div",{className:"col-auto"},l.a.createElement("label",{className:"sr-only",htmlFor:"inlineFormInput"},"\u041f\u0430\u0440\u043e\u043b\u044c"),l.a.createElement("input",{password:"password",type:"password",className:"form-control mb-2",id:"passwordInput",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",required:!0}))),l.a.createElement("div",{className:"col-auto hor"},l.a.createElement("button",{type:"submit",className:"btn btn-primary mb-2"},"\u0412\u043e\u0439\u0442\u0438")),l.a.createElement(d.b,{to:"/signup"},"\u041d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430? \u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0435\u0433\u043e!")))))};let j=null;var I=()=>{const{user:e,setUser:t}=Object(n.useContext)(u);return j=t,l.a.createElement(l.a.Fragment,null,l.a.createElement(h,null),l.a.createElement("main",{className:"container"},l.a.createElement(d.a,{className:"card w-50 post-card",method:"post"},l.a.createElement("div",{className:"form-col align-items-center form-group"},l.a.createElement("div",{className:"col-auto"},l.a.createElement("label",{className:"sr-only",htmlFor:"inlineFormInput"},"\u0418\u043c\u044f"),l.a.createElement("input",{name:"name",type:"text",className:"form-control mb-2",id:"nameInput",placeholder:"\u0418\u043c\u044f",required:!0})),l.a.createElement("div",{className:"col-auto"},l.a.createElement("label",{className:"sr-only",htmlFor:"inlineFormInputGroup"},"\u041b\u043e\u0433\u0438\u043d"),l.a.createElement("div",{className:"input-group mb-2"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"inputGroupPrepend"},"@")),l.a.createElement("input",{name:"login",type:"text",className:"form-control",id:"loginInput",placeholder:"\u041b\u043e\u0433\u0438\u043d",required:!0})),l.a.createElement("small",{id:"loginHelpBlock",className:"form-text text-muted"},"\u0422\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b \u0438 \u0446\u0438\u0444\u0440\u044b (\u043d\u0435 \u043c\u0435\u043d\u0435\u0435 3 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432)")),l.a.createElement("div",{className:"col-auto"},l.a.createElement("label",{className:"sr-only",htmlFor:"inlineFormInput"},"\u041f\u0430\u0440\u043e\u043b\u044c"),l.a.createElement("input",{name:"password",type:"password",className:"form-control mb-2",id:"passwordInput",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",required:!0}),l.a.createElement("small",{id:"passwordHelpBlock",className:"form-text text-muted"},"\u0422\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b \u0438 \u0446\u0438\u0444\u0440\u044b (\u043d\u0435 \u043c\u0435\u043d\u0435\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432)")),l.a.createElement("div",{className:"col-auto hor"},l.a.createElement("button",{type:"submit",className:"btn btn-primary mb-2"},"\u0412\u043e\u0439\u0442\u0438")),l.a.createElement(d.b,{to:"/login"},"\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442? \u0422\u043e\u0433\u0434\u0430 \u043f\u0440\u043e\u0441\u0442\u043e \u0432\u043e\u0439\u0434\u0438\u0442\u0435! :)")))))};const O=Object(d.d)([{path:"/feed",element:n.createElement(f,null)},{path:"/post/:id",element:n.createElement(w,null)},{path:"/post/new?",action:async e=>{let{request:t}=e;const a=await t.formData(),n=a.get("title"),l=a.get("text"),r=a.get("answerTo");return console.log(a),((e,t,a,n)=>{const l=Object(p.a)();E.push(b(l,e,(new Date).toISOString(),t,a,n,[],!1,!1));const r=E.find(e=>e.id===n);void 0!==r&&r.answeredFrom.push(l)})(D,n,l,r),Object(k.s)("/feed")},element:n.createElement(F,null)},{path:"/login",action:async e=>{let{request:t}=e;const a=await t.formData(),n=a.get("login"),l=(a.get("password"),m(n));return x(l),Object(k.s)("/feed")},element:n.createElement(q,null)},{path:"/signup",action:async e=>{let{request:t}=e;const a=await t.formData(),n=a.get("name"),l=a.get("login"),r=a.get("password");if(l.length<3)return window.alert("\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u0438\u0439 \u043b\u043e\u0433\u0438\u043d"),null;if(!l.match(/[a-z0-9]+/))return window.alert("\u041b\u043e\u0433\u0438\u043d \u043d\u0435 \u0443\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u044f\u0435\u0442 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f\u043c"),null;if(r.length<8)return window.alert("\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"),null;if(!r.match(/[a-z0-9]+/))return window.alert("\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0443\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u044f\u0435\u0442 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f\u043c"),null;const c=s(l,n);return j(c),Object(k.s)("/feed")},element:n.createElement(I,null)},{path:"/:login",element:n.createElement(y,null),errorElement:n.createElement(N.a,{to:"/feed",replace:!0})},{path:"/",element:n.createElement(N.a,{to:"/feed",replace:!0})}]);var T=()=>{const[e,t]=Object(n.useState)(null);return n.createElement(n.Fragment,null,n.createElement(u.Provider,{value:{user:e,setUser:t}},n.createElement(d.c,{router:O})))};c.a.createRoot(document.getElementById("root")).render(l.a.createElement(T,null))},7:function(e,t,a){e.exports=a(16)}},[[7,1,2]]]);
//# sourceMappingURL=main.89d2bd32.chunk.js.map